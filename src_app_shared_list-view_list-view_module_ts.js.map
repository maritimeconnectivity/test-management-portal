{"version":3,"file":"src_app_shared_list-view_list-view_module_ts.js","mappings":"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","sources":["./src/app/shared/list-view/detail-modal/detail-modal.component.ts","./src/app/shared/list-view/detail-modal/detail-modal.component.html","./src/app/shared/list-view/detail/detail.component.ts","./src/app/shared/list-view/detail/detail.component.html","./src/app/shared/list-view/list-view-routing.module.ts","./src/app/shared/list-view/list-view.module.ts","./src/app/shared/list-view/list/list.component.ts","./src/app/shared/list-view/list/list.component.html","./node_modules/rxjs-compat/Observable.js","./node_modules/rxjs/Observable.js","./node_modules/rxjs/internal/Observable.js","./node_modules/rxjs/internal/Observer.js","./node_modules/rxjs/internal/Subscriber.js","./node_modules/rxjs/internal/Subscription.js","./node_modules/rxjs/internal/config.js","./node_modules/rxjs/internal/symbol/observable.js","./node_modules/rxjs/internal/symbol/rxSubscriber.js","./node_modules/rxjs/internal/util/UnsubscriptionError.js","./node_modules/rxjs/internal/util/canReportError.js","./node_modules/rxjs/internal/util/hostReportError.js","./node_modules/rxjs/internal/util/identity.js","./node_modules/rxjs/internal/util/isArray.js","./node_modules/rxjs/internal/util/isFunction.js","./node_modules/rxjs/internal/util/isObject.js","./node_modules/rxjs/internal/util/pipe.js","./node_modules/rxjs/internal/util/toSubscriber.js"],"sourcesContent":["import { InstanceControllerService } from '../../../backend-api/service-registry/api/instanceController.service';\nimport { SECOMService } from './../../../backend-api/secom/api/sECOM.service';\nimport { Component, Input, OnInit } from '@angular/core';\nimport { NbDialogRef } from '@nebular/theme';\n\n@Component({\n  selector: 'ngx-detail-modal',\n  templateUrl: './detail-modal.component.html',\n  styleUrls: ['./detail-modal.component.scss']\n})\nexport class DetailModalComponent implements OnInit {\n  @Input() instanceName: string;\n  @Input() instanceMrn: string;\n  @Input() instanceVersion: string;\n  @Input() msrUrl: string;\n  @Input() msrName: string;\n\n  entityMrn = '';\n  orgMrn = '';\n  title = '';\n  iconName = '';\n  menyType = '';\n  numberId = '';\n\n  isLoading: boolean;\n\n  constructor(protected ref: NbDialogRef<DetailModalComponent>,\n    private instanceControllerService: InstanceControllerService,\n    ) {\n    this.isLoading = false;\n  }\n\n  ngOnInit(): void {\n    this.instanceControllerService.getInstanceByMRNAndVersion(this.instanceMrn, this.instanceVersion)\n    .subscribe(res =>{\n      console.log(res);\n    })\n  }\n\n  dismiss() {\n    this.ref.close();\n  }\n}\n","<nb-card class=\"modal-window\">\n    <nb-card-header>\n        {{instanceName}}\n    </nb-card-header>\n    <nb-card-body [nbSpinner]=\"isLoading\" nbSpinnerSize=\"large\" nbSpinnerStatus=\"primary\">\n        <!--<ngx-editable-form #editableForm\n        [menuType]=\"instance\" [isForNew]=\"isForNew\" [title]=\"title\" [iconName]=\"iconName\"\n        [entityMrn]=\"entityMrn\" [orgMrn]=\"orgMrn\" [numberId]=\"numberId\"\n        [instanceVersion]=\"instanceVersion\" [isLoading]=\"isLoading\" [isLoaded]=\"isLoaded\"\n        [hasHeader]=\"true\" [showButtons]=\"true\" (onApprove)=\"approve()\" (onReject)=\"delete()\"\n        (onCancel)=\"cancel()\" (onSubmit)=\"submit($event)\" (onDelete)=\"delete()\" (onRefresh)=\"refreshData()\"\n        ></ngx-editable-form>-->\n    </nb-card-body>\n    <nb-card-footer>\n        <div class=\"buttons-row\">\n            <button type=\"button\" nbButton status=\"danger\" (click)=\"dismiss()\">Close</button>\n        </div>\n    </nb-card-footer>\n</nb-card>\n","import { addLangs, applyTranslateToMenu, applyTranslateToSingleMenu, loadLang } from './../../../util/translateHelper';\n/*\n * Copyright (c) 2024 Maritime Connectivity Platform Consortium\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { TranslateService } from '@ngx-translate/core';\nimport { InstanceDto } from '../../../backend-api/service-registry/model/instanceDto';\nimport { InstanceControllerService } from '../../../backend-api/service-registry/api/instanceController.service';\nimport { formatVesselToUpload } from '../../../util/dataFormatter';\nimport { Device } from '../../../backend-api/identity-registry/model/device';\nimport { Location } from '@angular/common';\nimport { Organization } from '../../../backend-api/identity-registry/model/organization';\nimport { EntityTypes, ResourceType, MenuTypeIconNames, MenuTypeNames } from '../../models/menuType';\nimport { ColumnForResource } from '../../models/columnForMenu';\nimport { Component, Input, OnInit, ViewChild } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { DeviceControllerService, MMS, MmsControllerService, OrganizationControllerService, Role, RoleControllerService, Service, ServiceControllerService, User, UserControllerService, Vessel, VesselControllerService } from '../../../backend-api/identity-registry';\nimport { Observable } from 'rxjs/Observable';\nimport { NotifierService } from 'angular-notifier';\nimport { AuthService } from '../../../auth/auth.service';\nimport { ORG_ADMIN_AT_MIR } from '../../app.constants';\n\nimport RoleNameEnum = Role.RoleNameEnum;\n\n@Component({\n  selector: 'ngx-detail',\n  templateUrl: './detail.component.html',\n  styleUrls: ['./detail.component.scss']\n})\nexport class DetailComponent implements OnInit {\n  title = '';\n  isLoading = false;\n  menuType: ResourceType = ResourceType.Device;\n  iconName = 'circle';\n  instanceVersion = '';\n  noBacklink = false;\n  isForNew = false;\n  columnForMenu = ColumnForResource[this.menuType];\n  contextForAttributes = 'detail';\n  menuTypeName = '';\n  entityMrn = '';\n  orgMrn = '';\n  values = {};\n  activeCertificates = [];\n  revokedCertificates = [];\n  isEditing = false;\n  shortId = '';\n  numberId = -1;\n  isLoaded = true;\n  mrnMask = '';\n  isForServiceForOrg = false;\n  orgShortId = undefined;\n  defaultPermissionForAdminUser = ORG_ADMIN_AT_MIR;\n\n  @ViewChild('editableForm') editableForm;\n  @ViewChild('supplementForm') supplementForm;\n\n  constructor(private route: ActivatedRoute, private router: Router,\n    private userControllerService: UserControllerService,\n    private deviceControllerService: DeviceControllerService,\n    private roleControllerService: RoleControllerService,\n    private vesselControllerService: VesselControllerService,\n    private serviceControllerService: ServiceControllerService,\n    private mmsControllerService: MmsControllerService,\n    private organizationControllerService: OrganizationControllerService,\n    private instanceControllerService: InstanceControllerService,\n    private notifierService: NotifierService,\n    private authService: AuthService,\n    private location: Location,\n    public translate: TranslateService,\n    ) {\n      addLangs(translate);\n      loadLang(translate);\n  }\n\n  ngOnInit(): void {\n    const array = this.router.url.split('/');\n    const entityId = array.pop();\n    const menuTypeString = array.pop();\n    if (menuTypeString === ResourceType.InstanceOfOrg) {\n      this.isForServiceForOrg = true;\n      this.menuType = ResourceType.Instance;\n    } else {\n      this.menuType = menuTypeString.replace('-', '').substr(0, menuTypeString.length - 1) as ResourceType;\n    }\n    this.entityMrn = decodeURIComponent(this.route.snapshot.paramMap.get(\"id\"));\n    this.orgMrn = this.authService.authState.orgMrn;\n    this.isForNew = this.entityMrn === 'new';\n    this.numberId = this.menuType === ResourceType.Instance || this.menuType === ResourceType.Role ?\n      parseInt(this.entityMrn) : -1;\n\n    // preventing refresh\n    this.router.routeReuseStrategy.shouldReuseRoute = () => false;\n\n    // this is my organization page when it comes with no name\n    this.route.queryParams.subscribe(e =>\n    {\n      this.noBacklink = e.name === undefined;\n      this.title = e.name;\n      this.instanceVersion = e.version;\n    });\n\n    this.iconName = MenuTypeIconNames[this.menuType.toString()];\n\n    if (this.isForNew) {\n      this.isEditing = true;\n      this.title = 'New ' + MenuTypeNames[this.menuType];\n    } else {\n      this.fetchFieldValues();\n    }\n  }\n\n  cancel() {\n    this.location.back();\n  }\n\n  settle(result: boolean) {\n    this.isLoading = false;\n    if (this.editableForm) {\n      this.editableForm.settled(result);\n    }\n  }\n\n  fetchFieldValues() {\n    if(ColumnForResource.hasOwnProperty(this.menuType)) {\n      this.isLoading = true;\n      if (Object.values(ResourceType).includes(this.menuType as ResourceType)) {\n        if(this.menuType === ResourceType.OrgCandidate){\n          this.organizationControllerService.getUnapprovedOrganizations().subscribe(\n            data => {\n              this.settle(true);\n              this.editableForm.adjustTitle(this.menuType, this.title);\n              this.editableForm.adjustData(data.content.filter(d => d.mrn === this.entityMrn).pop());\n              this.orgShortId = this.entityMrn.split(':').pop();\n            },\n            error => {\n              this.notifierService.notify('error', error.message);\n              this.router.navigateByUrl('/pages/404');\n            },\n          );\n        } else if(this.menuType === ResourceType.Role) {\n          const id = parseInt(this.entityMrn);\n          this.roleControllerService.getRole(this.orgMrn, id).subscribe(\n            data => {\n              this.settle(true);\n              this.numberId = data.id;\n              this.editableForm.adjustTitle(this.menuType, this.title);\n              this.editableForm.adjustData(data);\n            },\n            error => {\n              this.notifierService.notify('error', error.message);\n              this.router.navigateByUrl('/pages/404');\n            },\n          )\n        } else {\n          this.route.queryParams.subscribe(e => this.loadDataContent(this.menuType, this.authService.authState.user.organization, this.entityMrn, e.version, this.numberId).subscribe(\n            data => {\n              this.settle(true);\n              if (this.menuType === ResourceType.User) {\n                this.title = (data as User).firstName + \" \" + (data as User).lastName;\n              } else if (this.menuType === ResourceType.Organization) {\n                this.title = (data as Organization).name;\n              }\n              this.editableForm.adjustTitle(this.menuType, this.title);\n              this.editableForm.adjustData(data);\n            },\n            error => {\n              this.notifierService.notify('error', error.message);\n              this.router.navigateByUrl('/pages/404');\n            },\n          ));\n        }\n      } else {\n        this.settle(false);\n        throw new Error(`${this.translate.instant('error.resource.noDataService')}${this.menuType}`);\n      }\n    } else {\n      this.settle(false);\n      throw new Error(`${this.translate.instant('error.resource.noDataService')}${this.menuType}`);\n    }\n  }\n\n  refreshData() {\n    this.fetchFieldValues();\n  }\n\n  moveToListPage() {\n    this.router.navigate(['../../' + this.menuType + 's'], {relativeTo: this.route});\n  }\n\n  delete() {\n    let message = this.translate.instant('warning.resource.beforeDeletion');\n    message = EntityTypes.indexOf(this.menuType) >= 0 ?\n      message + this.translate.instant('warning.resource.beforeRevoke') : message;\n    if (confirm(message)) {\n      this.deleteData(this.menuType, this.orgMrn, this.entityMrn, this.instanceVersion).subscribe(\n        res => {\n          this.notifierService.notify('success', this.menuTypeName + this.translate.instant('success.resource.delete'));\n          this.moveToListPage();\n        },\n        err => this.notifierService.notify('error',\n          this.translate.instant('error.resource.errorInDeletion') + err.error.message));\n    }\n  }\n\n  approve() {\n    if (this.menuType === ResourceType.OrgCandidate) {\n      if (!this.supplementForm.formGroup.valid) {\n        this.notifierService.notify('error',\n          this.translate.instant('error.resource.missingInformation'));\n      } else {\n        this.organizationControllerService.approveOrganization(this.entityMrn).subscribe(\n          res => {\n            this.createAdminRole().subscribe(\n              role => {\n                this.createAdminUser(this.supplementForm.getFormValue()).subscribe(\n                  user => {\n                    this.notifierService.notify('success',\n                      this.translate.instant('success.resource.approveOrganization'));\n                    this.moveToListPage();\n                  },\n                  err => this.notifierService.notify('error',\n                    this.translate.instant('error.resource.approveOrganization.userCreation') + err.error.message),\n                );\n              },\n              err => this.notifierService.notify('error',\n               this.translate.instant('error.resource.approveOrganization.roleCreation') + err.error.message),\n            );\n          },\n          err => this.notifierService.notify('error',\n            this.translate.instant('error.resource.approveOrganization.reject') + err.error.message),\n        );\n      }\n    }\n  }\n\n  createAdminRole() {\n    const role: Role = {\n      permission: ORG_ADMIN_AT_MIR, // TODO is this correct? Revise when creating the new role-functionality\n      roleName: RoleNameEnum.ORGADMIN,\n    };\n    return this.roleControllerService.createRole(role, this.entityMrn);\n  }\n\n  createAdminUser(user: User) {\n    if (!user) {\n      throw new Error(this.translate.instant('error.resource.noUser'));\n    }\n    if (!user.permissions || user.permissions.length === 0) {\n      user.permissions = ORG_ADMIN_AT_MIR;\n    } else if (user.permissions.length > 0 && user.permissions.indexOf(ORG_ADMIN_AT_MIR) < 0) {\n      user.permissions = ',' + ORG_ADMIN_AT_MIR;\n    }\n\t\treturn this.createUser(user);\n\t}\n\n  createUser(user: User) {\n    if (!user) {\n      throw new Error(this.translate.instant('error.resource.noUser'));\n    }\n\t\treturn this.userControllerService.createUser(user, this.entityMrn);\n\t}\n\n  submit(body: any) {\n    if (this.menuType === ResourceType.Role) {\n      this.organizationControllerService.getOrganization1(this.orgMrn).subscribe(\n        res => this.submitDataToBackend({ ...body, idOrganization: res.id}),\n        err => this.notifierService.notify('error',\n          this.translate.instant('error.resource.fetchOrgInfo')),\n      );\n    } else {\n      this.submitDataToBackend(body, body.mrn);\n    }\n  }\n\n  submitDataToBackend(body: object, mrn?: string) {\n    if (this.isForNew) {\n      this.registerData(this.menuType, body, this.authService.authState.orgMrn).subscribe(\n        res => {\n          this.notifierService.notify('success', 'New ' + this.menuType +\n            this.translate.instant('success.resource.create'));\n          this.settle(true);\n          this.moveToListPage();\n        },\n        err => {\n          this.notifierService.notify('error',\n            this.translate.instant('error.resource.creationFailed') + err.error.message);\n          this.settle(true);\n        }\n      );\n    } else {\n      // editing\n      this.updateData(this.menuType, body, this.authService.authState.orgMrn, mrn, this.instanceVersion, this.numberId).subscribe(\n        res => {\n          this.notifierService.notify('success', this.menuType\n            + this.translate.instant('success.resource.update'));\n          if (this.editableForm) {\n            this.editableForm.invertIsEditing();\n            this.refreshData();\n          }\n          this.settle(true);\n        },\n        err => {\n          this.notifierService.notify('error', \n            this.translate.instant('error.resource.updateFailed') + err.error.message);\n          this.settle(true);\n        }\n      );\n    }\n  }\n\n  registerData = (context: ResourceType, body: object, orgMrn: string): Observable<any> => {\n    if (context === ResourceType.User) {\n      return this.userControllerService.createUser(body as User, orgMrn);\n    } else if (context === ResourceType.Device) {\n      return this.deviceControllerService.createDevice(body as Device, orgMrn);\n    } else if (context === ResourceType.Vessel) {\n      return this.vesselControllerService.createVessel(formatVesselToUpload(body) as Vessel, orgMrn);\n    } else if (context === ResourceType.MMS) {\n      return this.mmsControllerService.createMMS(body as MMS, orgMrn);\n    } else if (context === ResourceType.Service) {\n      return this.serviceControllerService.createService(body as Service, orgMrn);\n    } else if (context === ResourceType.Organization) {\n      return this.organizationControllerService.applyOrganization(body as Organization);\n    } else if (context === ResourceType.Role) {\n      return this.roleControllerService.createRole(body as Role, orgMrn);\n    } else if (context === ResourceType.Instance) {\n      return this.instanceControllerService.createInstance(body as InstanceDto);\n    }\n    return new Observable();\n  }\n\n  updateData = (context: ResourceType, body: object, orgMrn: string, entityMrn: string, version?: string, instanceId?: number): Observable<any> => {\n    if (context === ResourceType.User) {\n      return this.userControllerService.updateUser(body as User, orgMrn, entityMrn);\n    } else if (context === ResourceType.Device) {\n      return this.deviceControllerService.updateDevice(body as Device, orgMrn, entityMrn);\n    } else if (context === ResourceType.Vessel) {\n      return this.vesselControllerService.updateVessel(formatVesselToUpload(body) as Vessel, orgMrn, entityMrn);\n    } else if (context === ResourceType.MMS) {\n      return this.mmsControllerService.updateMMS(body as MMS, orgMrn, entityMrn);\n    } else if (context === ResourceType.Service && version) {\n      return this.serviceControllerService.updateService(body as Service, orgMrn, entityMrn, version);\n    } else if (context === ResourceType.Organization || context === ResourceType.OrgCandidate) {\n      return this.organizationControllerService.updateOrganization(body as Organization, entityMrn);\n    } else if (context === ResourceType.Role) {\n      return this.roleControllerService.updateRole(body as Role, orgMrn, this.numberId);\n    } else if (context === ResourceType.Instance) {\n      return this.instanceControllerService.updateInstance(Object.assign({}, body, {id: instanceId}) as InstanceDto, instanceId);\n    }\n    return new Observable();\n  }\n\n  deleteData = (context: ResourceType, orgMrn: string, entityMrn: string, version?: string, instanceId?: number): Observable<any> => {\n    if (context === ResourceType.User) {\n      return this.userControllerService.deleteUser(orgMrn, entityMrn);\n    } else if (context === ResourceType.Device) {\n      return this.deviceControllerService.deleteDevice(orgMrn, entityMrn);\n    } else if (context === ResourceType.Vessel) {\n      return this.vesselControllerService.deleteVessel(orgMrn, entityMrn);\n    } else if (context === ResourceType.MMS) {\n      return this.mmsControllerService.deleteMMS(orgMrn, entityMrn);\n    } else if (context === ResourceType.Service && version) {\n      return this.serviceControllerService.deleteService(orgMrn, entityMrn, version);\n    } else if (context === ResourceType.Organization || context === ResourceType.OrgCandidate) {\n      return this.organizationControllerService.deleteOrg(entityMrn);\n    } else if (context === ResourceType.Role) {\n      return this.roleControllerService.deleteRole(orgMrn, this.numberId);\n    } else if (context === ResourceType.Instance) {\n      return this.instanceControllerService.deleteInstance(this.numberId);\n    }\n    return new Observable();\n  }\n\n  loadDataContent = (context: ResourceType, orgMrn: string, entityMrn: string, version?: string, instanceId?: number): Observable<any> => {\n    if (context === ResourceType.User) {\n      return this.userControllerService.getUser(orgMrn, entityMrn);\n    } else if (context === ResourceType.Device) {\n      return this.deviceControllerService.getDevice(orgMrn, entityMrn);\n    } else if (context === ResourceType.Vessel) {\n      return this.vesselControllerService.getVessel(orgMrn, entityMrn);\n    } else if (context === ResourceType.MMS) {\n      return this.mmsControllerService.getMMS(orgMrn, entityMrn);\n    } else if (context === ResourceType.Service && version) {\n      return this.serviceControllerService.getServiceVersion(orgMrn, entityMrn, version);\n    } else if (context === ResourceType.Organization) {\n      return this.organizationControllerService.getOrganization1(entityMrn);\n    } else if (context === ResourceType.Instance) {\n      return this.instanceControllerService.getInstance(instanceId);\n    }\n    return new Observable();\n  }\n}\n","<div class=\"row\">\n  <div class=\"col-lg-12\">\n    <div *ngIf=\"!noBacklink && !isForNew\">\n      <button nbButton status=\"info\" ghost (click)=\"cancel()\">\n        <nb-icon icon=\"arrow-ios-back\" pack=\"eva\"></nb-icon> \n        Back to {{entityTypeName}} list\n      </button>\n    </div>\n    <ngx-editable-form #editableForm\n      [menuType]=\"menuType\" [isForNew]=\"isForNew\" [title]=\"title\" [iconName]=\"iconName\"\n      [entityMrn]=\"entityMrn\" [orgMrn]=\"orgMrn\" [numberId]=\"numberId\"\n      [instanceVersion]=\"instanceVersion\" [isLoading]=\"isLoading\" [isLoaded]=\"isLoaded\"\n      [hasHeader]=\"true\" [showButtons]=\"true\" (onApprove)=\"approve()\" (onReject)=\"delete()\"\n      (onCancel)=\"cancel()\" (onSubmit)=\"submit($event)\" (onDelete)=\"delete()\" (onRefresh)=\"refreshData()\"\n    ></ngx-editable-form>\n    <!-- admin user form for approving org menu -->\n    <ngx-editable-form #supplementForm *ngIf=\"menuType === 'orgcandidate' && orgShortId\"\n      [menuType]=\"'user'\" [isForNew]=\"true\" [orgShortId]=\"orgShortId\" [defaultPermissions]=\"defaultPermissionForAdminUser\"\n      [title]=\"'Administrator account of ' + title\" [iconName]=\"'user'\" [numberId]=\"numberId\"\n      [entityMrn]=\"\" [orgMrn]=\"entityMrn\"\n      [instanceVersion]=\"instanceVersion\" [isLoading]=\"isLoading\" [isLoaded]=\"isLoaded\"\n      [hasHeader]=\"true\" [showButtons]=\"false\" (onApprove)=\"approve()\" (onReject)=\"delete()\"\n      (onCancel)=\"cancel()\" (onSubmit)=\"submit($event)\" (onDelete)=\"delete()\" (onRefresh)=\"refreshData()\"\n    ></ngx-editable-form>\n  </div>\n</div>","/*\n * Copyright (c) 2024 Maritime Connectivity Platform Consortium\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ListViewComponent } from './list-view.component';\nimport { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { ListComponent } from './list/list.component';\nimport { DetailComponent } from './detail/detail.component';\nimport { NotFoundComponent } from '../../pages/miscellaneous/not-found/not-found.component';\n\nconst routes: Routes = [{\n  path: '',\n  component: ListViewComponent,\n  children: [\n    {\n      path: '',\n      component: ListComponent,\n    },\n    {\n      path: ':id',\n      component: DetailComponent,\n    },\n    {\n      path: '**',\n      component: NotFoundComponent,\n    },\n  ],\n}];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ListViewRoutingModule { }\n","/*\n * Copyright (c) 2024 Maritime Connectivity Platform Consortium\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { SharedModule } from '../shared.module';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ListViewRoutingModule } from './list-view-routing.module';\nimport { ListComponent } from './list/list.component';\nimport { DetailComponent } from './detail/detail.component';\nimport { NbButtonModule, NbCardModule, NbDatepickerModule, NbIconModule, NbInputModule, NbPopoverModule, NbSelectModule, NbSpinnerModule, NbTabsetModule } from '@nebular/theme';\nimport { Ng2SmartTableModule } from 'ng2-smart-table';\nimport { NotifierService } from 'angular-notifier';\nimport { ThemeModule } from '../../@theme/theme.module';\nimport { DetailModalComponent } from './detail-modal/detail-modal.component';\n\n@NgModule({\n  declarations: [\n    ListComponent,\n    DetailComponent,\n    DetailModalComponent,\n  ],\n  imports: [\n    CommonModule,\n    SharedModule,\n    NbInputModule,\n    NbCardModule,\n    NbIconModule,\n    NbSpinnerModule,\n    NbTabsetModule,\n    NbButtonModule,\n    NbPopoverModule,\n    NbSelectModule,\n    ThemeModule,\n    NbDatepickerModule,\n    Ng2SmartTableModule,\n    ListViewRoutingModule,\n  ],\n  providers: [\n    NotifierService,\n  ],\n})\nexport class ListViewModule { }\n","import { addLangs, applyTranslateToSingleMenu, loadLang } from './../../../util/translateHelper';\n/*\n * Copyright (c) 2024 Maritime Connectivity Platform Consortium\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { MenuTypeNames } from '../../models/menuType';\nimport { AuthService } from '../../../auth/auth.service';\nimport { InstanceControllerService } from '../../../backend-api/service-registry/api/instanceController.service';\nimport { ServiceControllerService } from '../../../backend-api/identity-registry/api/serviceController.service';\nimport { DeviceControllerService } from '../../../backend-api/identity-registry/api/deviceController.service';\nimport { Observable } from 'rxjs/Observable';\nimport { RoleControllerService } from '../../../backend-api/identity-registry/api/roleController.service';\nimport { Organization } from '../../../backend-api/identity-registry/model/organization';\nimport { OrganizationControllerService } from '../../../backend-api/identity-registry/api/organizationController.service';\nimport { UserControllerService } from '../../../backend-api/identity-registry/api/userController.service';\nimport { ColumnForResource } from '../../models/columnForMenu';\nimport { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { LocalDataSource } from 'ng2-smart-table';\nimport { ResourceType, MenuTypeIconNames, EntityTypes } from '../../models/menuType';\nimport { NbIconLibraries } from '@nebular/theme';\nimport { NotifierService } from 'angular-notifier';\nimport { InstanceDto } from '../../../backend-api/service-registry';\nimport { formatData, formatServiceData } from '../../../util/dataFormatter';\nimport { hasAdminPermission } from '../../../util/adminPermissionResolver';\nimport { TranslateService } from '@ngx-translate/core';\nimport _ from 'lodash';\nimport { MmsControllerService, VesselControllerService } from '../../../backend-api/identity-registry/api/api';\nimport { Role } from '../../../backend-api/identity-registry/model/role';\n\nconst capitalize = (s): string => {\n  if (typeof s !== 'string') return ''\n  return s.charAt(0).toUpperCase() + s.slice(1);\n}\n@Component({\n  selector: 'ngx-list',\n  templateUrl: './list.component.html',\n  styleUrls: ['./list.component.scss']\n})\n\nexport class ListComponent implements OnInit {\n\n  menuType: ResourceType = ResourceType.Device;\n  title = ' for ';\n  contextForAttributes = 'list';\n  orgName = 'MCC';\n  orgMrn = '';\n  iconName = 'circle';\n  menuTypeName = '';\n  data = [];\n  isLoading = false;\n  settings;\n  mySettings = {\n    actions: {\n      edit: false,\n      position: 'right',\n    },\n    mode: 'external',\n    delete: {\n      deleteButtonContent: '<i class=\"nb-trash\"></i>',\n      confirmDelete: true,\n    },\n    columns: {...ColumnForResource[this.menuType], ...{name:{title:\"Nameeeee\"}}},\n    hideSubHeader: true,\n  };\n  showTables = true;\n  source: LocalDataSource = new LocalDataSource();\n  isForServiceForOrg = false;\n  isAdmin: boolean = false;\n  currentPageNumber = 0;\n  totalPages = 0;\n  totalElements = 0;\n  pageNumbers = [];\n\n  constructor(private router: Router,\n    private iconsLibrary: NbIconLibraries,\n    private userControllerService: UserControllerService,\n    private deviceControllerService: DeviceControllerService,\n    private roleControllerService: RoleControllerService,\n    private vesselControllerService: VesselControllerService,\n    private serviceControllerService: ServiceControllerService,\n    private instanceControllerService: InstanceControllerService,\n    private mmsControllerService: MmsControllerService,\n    private organizationControllerService: OrganizationControllerService,\n    private notifierService: NotifierService,\n    private authService: AuthService,\n    public translate: TranslateService,\n    ) {\n      addLangs(translate);\n      loadLang(translate);\n      // TODO: apply translate to table\n      //console.log(ColumnForResource[this.menuType]);\n      //console.log({...ColumnForResource[this.menuType], name:{title:\"Nameeeee\"}})\n      /*\n      this.translate.get(['table']).subscribe(res => {\n        console.log(res);\n      });\n      */\n\n      iconsLibrary.registerFontPack('fas', { packClass: 'fas', iconClassPrefix: 'fa' });\n  }\n\n  ngOnInit(): void {\n    const menuTypeString = this.router.url.split('/').pop();\n    if (menuTypeString === ResourceType.InstanceOfOrg) {\n      this.isForServiceForOrg = true;\n      this.menuType = ResourceType.Instance;\n    } else {\n      this.menuType = menuTypeString.replace('-', '').substr(0, menuTypeString.length - 1) as ResourceType;\n    }\n    if (Object.values(ResourceType).includes(this.menuType)) {\n      this.menuTypeName = MenuTypeNames[this.menuType.toString()];\n      this.iconName = MenuTypeIconNames[this.menuType.toString()];\n      this.orgMrn = this.authService.authState.orgMrn;\n    } else {\n      this.router.navigate(['**']);\n    }\n\n    if (this.authService.authState.rolesLoaded) {\n      this.isAdmin = hasAdminPermission(this.menuType, this.authService, false);\n    } else {\n      this.authService.rolesLoaded.subscribe((mode)=> {\n        this.isAdmin = hasAdminPermission(this.menuType, this.authService, false);\n      });\n    }\n\n    this.fetchValues(this.currentPageNumber);\n  }\n\n  updatePageContentInfo = (res: any) => {\n    this.totalPages = res.totalPages;\n    this.totalElements = res.totalElements;\n    this.pageNumbers = Array(this.totalPages).fill(0).map((x,i)=>i);\n  }\n\n  fetchValues(pageNumber: number) {\n    this.currentPageNumber = pageNumber;\n    // filtered with context\n    if(ColumnForResource.hasOwnProperty(this.menuType.toString())) {\n      this.mySettings.columns = Object.assign({}, ...\n        Object.entries(ColumnForResource[this.menuType.toString()]).filter(([k,v]) => Array.isArray(v['visibleFrom']) && v['visibleFrom'].includes(this.contextForAttributes)).map(([k,v]) => ({[k]:v}))\n      );\n      this.settings = Object.assign({}, this.mySettings);\n      // Not-approved organization list\n      this.title = `${capitalize(this.menuTypeName)} list`;\n      this.isLoading = true;\n\n      if (Object.values(ResourceType).includes(this.menuType)) {\n        if(this.menuType === ResourceType.Organization || this.menuType === ResourceType.OrgCandidate){\n          this.loadDataContent(this.menuType, pageNumber).subscribe(\n            resOrigin => { this.updatePageContentInfo(resOrigin); this.refreshData(this.formatResponse(resOrigin.content)); this.isLoading = false;},\n            error => this.notifierService.notify('error', error.message),\n          );\n        } else if(this.menuType === ResourceType.Role){\n          this.loadMyOrganization().subscribe(\n            resMyOrg => this.loadRoles(resMyOrg.mrn).subscribe(\n              res => {\n                this.updatePageContentInfo(res);\n                this.refreshData(res); this.isLoading = false;},\n              error => this.notifierService.notify('error', error.message),\n            ),\n            error => this.notifierService.notify('error', error.message),\n          );\n        } else if(this.menuType === ResourceType.Instance || this.menuType === ResourceType.InstanceOfOrg){\n          this.loadServiceInstances().subscribe(\n            resData => {\n              // TODO: need to update page content info from MSR\n              //this.updatePageContentInfo(resData);\n              this.refreshData(\n                this.formatResponseForService(\n                  this.isForServiceForOrg ?\n                    resData.filter(i => i.organizationId === this.orgMrn) :\n                    resData,\n                ),\n              );\n              this.isLoading = false;\n            },\n            error => this.notifierService.notify('error', error.message),\n          );\n        } else {\n          this.loadMyOrganization().subscribe(\n            resMyOrg => {\n              this.loadDataContent(this.menuType, pageNumber, resMyOrg.mrn).subscribe(\n              res => {\n                this.updatePageContentInfo(res);\n                this.refreshData(this.formatResponse(res.content)); this.isLoading = false;},\n              error => this.notifierService.notify('error', error.message),\n            )},\n            error => this.notifierService.notify('error', error.message),\n          );\n        }\n      } else {\n        this.isLoading = false;\n        throw new Error(`${this.translate.instant('error.resource.noDataService')}${this.menuType}`);\n      }\n    } else {\n      this.isLoading = false;\n      throw new Error(`${this.translate.instant('error.resource.noDataService')}${this.menuType}`);\n    }\n  }\n\n  refreshData(data?: any) {\n    if (data) {\n      this.source.load(data);\n      this.data = data;\n    } else {\n      this.source.load([]);\n    }\n  }\n\n  formatResponse(data: any[]) {\n    return data.map(d => formatData(d));\n  }\n\n  formatResponseForService(data: any[]) {\n    return data.map(d => formatServiceData(d));\n  }\n\n  onDelete(event): void {\n    if (!this.isAdmin) {\n      this.notifierService.notify('error', this.translate.instant('error.resource.permissionError'));\n    } else {\n      this.delete(this.menuType, this.orgMrn, event.data.mrn, event.data.instanceVersion, event.data.id);\n    }\n  }\n\n  delete(menuType: ResourceType, orgMrn: string, entityMrn: string, instanceVersion?: string, numberId?: number) {\n    let message = this.translate.instant('warning.resource.beforeDeletion');\n    message = EntityTypes.indexOf(this.menuType) >= 0 ?\n      message + this.translate.instant('warning.resource.beforeRevoke') : message;\n    if (confirm(message)) {\n      this.deleteData(menuType, orgMrn, entityMrn, instanceVersion, numberId).subscribe(\n        res => {\n          this.notifierService.notify('success', this.menuTypeName + this.translate.instant('success.resource.delete'));\n          this.fetchValues(this.currentPageNumber);\n        },\n        err => this.notifierService.notify('error',\n          this.translate.instant('error.resource.errorInDeletion') + err.error.message));\n    }\n  }\n\n  deleteData = (context: ResourceType, orgMrn: string, entityMrn: string, version?: string, numberId?: number): Observable<any> => {\n    if (context === ResourceType.User) {\n      return this.userControllerService.deleteUser(orgMrn, entityMrn);\n    } else if (context === ResourceType.Device) {\n      return this.deviceControllerService.deleteDevice(orgMrn, entityMrn);\n    } else if (context === ResourceType.Vessel) {\n      return this.vesselControllerService.deleteVessel(orgMrn, entityMrn);\n    } else if (context === ResourceType.MMS) {\n      return this.mmsControllerService.deleteMMS(orgMrn, entityMrn);\n    } else if (context === ResourceType.Service && version) {\n      return this.serviceControllerService.deleteService(orgMrn, entityMrn, version);\n    } else if (context === ResourceType.Organization || context === ResourceType.OrgCandidate) {\n      return this.organizationControllerService.deleteOrg(entityMrn);\n    } else if (context === ResourceType.Role && numberId) {\n      return this.roleControllerService.deleteRole(orgMrn, numberId);\n    } else if (context === ResourceType.Instance || context === ResourceType.InstanceOfOrg) {\n      return this.instanceControllerService.deleteInstance(numberId);\n    }\n    return new Observable();\n  }\n\n  onEdit(event): void {\n    const mrn = this.menuType === ResourceType.Instance ? event.data.id : event.data.mrn;\n    this.router.navigate([this.router.url,\n      mrn ? encodeURIComponent(mrn) : event.data.id],\n        { queryParams: { name: event.data.roleName ? event.data.roleName :\n            event.data.name ? event.data.name :\n            event.data.lastName + ' ' + event.data.firstName,\n          version: event.data.instanceVersion,\n         }});\n  }\n\n  onAddNew(): void {\n    this.router.navigate([this.router.url, 'new']);\n  }\n\n  onSearch(event: any) {\n    const query = event.srcElement.value;\n    if (event && event.srcElement && query.length > 0) {\n      this.source.setFilter([\n        // fields we want to include in the search\n        {\n          field: 'id',\n          search: query,\n        },\n        {\n          field: 'name',\n          search: query,\n        },\n        {\n          field: 'mrn',\n          search: query,\n        },\n      ], false);\n    } else {\n      this.source.reset();\n      this.refreshData();\n    }\n  }\n\n  loadMyOrganization = ():Observable<Organization> => {\n    // fetch organization information from it\n    return this.organizationControllerService.getOrganization1(this.authService.authState.orgMrn);\n\t}\n\n  loadServiceInstances = (): Observable<InstanceDto[]> => {\n    return this.instanceControllerService.getInstances();\n  }\n\n  loadDataContent = (context: ResourceType, page: number, orgMrn?: string): Observable<any> => {\n    const size = 10;\n    if (context === ResourceType.User) {\n      return this.userControllerService.getOrganizationUsers(orgMrn, page, size);\n    } else if (context === ResourceType.Device) {\n      return this.deviceControllerService.getOrganizationDevices(orgMrn, page, size);\n    } else if (context === ResourceType.Vessel) {\n      return this.vesselControllerService.getOrganizationVessels(orgMrn, page, size);\n    } else if (context === ResourceType.MMS) {\n      return this.mmsControllerService.getOrganizationMMSes(orgMrn, page, size);\n    } else if (context === ResourceType.Service) {\n      return this.serviceControllerService.getOrganizationServices(orgMrn, page, size);\n    } else if (context === ResourceType.Organization) {\n      return this.organizationControllerService.getOrganization(page, size);\n    } else if (context === ResourceType.OrgCandidate) {\n      return this.organizationControllerService.getUnapprovedOrganizations(page, size);\n    }\n    return new Observable();\n  }\n\n  loadRoles = (orgMrn: string): Observable<Role[]> => {\n    return this.roleControllerService.getRoles(orgMrn);\n  }\n}\n","<nb-card>\n    <nb-card-header>\n      <div class=\"row\">\n        <div class=\"col my-auto\">\n          <span class=\"icon_header\"><nb-icon [icon]=\"iconName\" pack=\"fas\"></nb-icon></span>{{title}}\n        </div>\n        <div class=\"col-md-auto\">\n          <ngx-search-input (search)=\"onSearch($event)\"></ngx-search-input>\n        </div>\n        <div class=\"col-md-auto\">\n          <button type=\"button\" nbButton status=\"primary\" (click)=\"onAddNew()\" *ngIf=\"isAdmin\">Add new</button>\n        </div>\n      </div>\n    </nb-card-header>\n    <nb-card-body [nbSpinner]=\"isLoading\" nbSpinnerSize=\"large\" nbSpinnerStatus=\"primary\">\n      <ng2-smart-table *ngIf=\"showTables\" [settings]=\"settings\" [source]=\"source\" (userRowSelect)=\"onEdit($event)\" (delete)=\"onDelete($event)\">\n      </ng2-smart-table>\n    </nb-card-body>\n    <!-- generate for loop generating indexes up to totalPages-->\n    <div class=\"text-center pb-5\">\n      <button *ngFor=\"let i of pageNumbers\" class=\"m-1\" nbButton size=\"tiny\" [disabled]=\"i==currentPageNumber\" (click)=\"fetchValues(i)\">{{i+1}}</button>\n    </div>\n  </nb-card>\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Observable_1 = require(\"rxjs/internal/Observable\");\nexports.Observable = Observable_1.Observable;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"rxjs-compat/Observable\"));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar canReportError_1 = require(\"./util/canReportError\");\nvar toSubscriber_1 = require(\"./util/toSubscriber\");\nvar observable_1 = require(\"./symbol/observable\");\nvar pipe_1 = require(\"./util/pipe\");\nvar config_1 = require(\"./config\");\nvar Observable = (function () {\n    function Observable(subscribe) {\n        this._isScalar = false;\n        if (subscribe) {\n            this._subscribe = subscribe;\n        }\n    }\n    Observable.prototype.lift = function (operator) {\n        var observable = new Observable();\n        observable.source = this;\n        observable.operator = operator;\n        return observable;\n    };\n    Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n        var operator = this.operator;\n        var sink = toSubscriber_1.toSubscriber(observerOrNext, error, complete);\n        if (operator) {\n            sink.add(operator.call(sink, this.source));\n        }\n        else {\n            sink.add(this.source || (config_1.config.useDeprecatedSynchronousErrorHandling && !sink.syncErrorThrowable) ?\n                this._subscribe(sink) :\n                this._trySubscribe(sink));\n        }\n        if (config_1.config.useDeprecatedSynchronousErrorHandling) {\n            if (sink.syncErrorThrowable) {\n                sink.syncErrorThrowable = false;\n                if (sink.syncErrorThrown) {\n                    throw sink.syncErrorValue;\n                }\n            }\n        }\n        return sink;\n    };\n    Observable.prototype._trySubscribe = function (sink) {\n        try {\n            return this._subscribe(sink);\n        }\n        catch (err) {\n            if (config_1.config.useDeprecatedSynchronousErrorHandling) {\n                sink.syncErrorThrown = true;\n                sink.syncErrorValue = err;\n            }\n            if (canReportError_1.canReportError(sink)) {\n                sink.error(err);\n            }\n            else {\n                console.warn(err);\n            }\n        }\n    };\n    Observable.prototype.forEach = function (next, promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var subscription;\n            subscription = _this.subscribe(function (value) {\n                try {\n                    next(value);\n                }\n                catch (err) {\n                    reject(err);\n                    if (subscription) {\n                        subscription.unsubscribe();\n                    }\n                }\n            }, reject, resolve);\n        });\n    };\n    Observable.prototype._subscribe = function (subscriber) {\n        var source = this.source;\n        return source && source.subscribe(subscriber);\n    };\n    Observable.prototype[observable_1.observable] = function () {\n        return this;\n    };\n    Observable.prototype.pipe = function () {\n        var operations = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            operations[_i] = arguments[_i];\n        }\n        if (operations.length === 0) {\n            return this;\n        }\n        return pipe_1.pipeFromArray(operations)(this);\n    };\n    Observable.prototype.toPromise = function (promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var value;\n            _this.subscribe(function (x) { return value = x; }, function (err) { return reject(err); }, function () { return resolve(value); });\n        });\n    };\n    Observable.create = function (subscribe) {\n        return new Observable(subscribe);\n    };\n    return Observable;\n}());\nexports.Observable = Observable;\nfunction getPromiseCtor(promiseCtor) {\n    if (!promiseCtor) {\n        promiseCtor = config_1.config.Promise || Promise;\n    }\n    if (!promiseCtor) {\n        throw new Error('no Promise impl found');\n    }\n    return promiseCtor;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar config_1 = require(\"./config\");\nvar hostReportError_1 = require(\"./util/hostReportError\");\nexports.empty = {\n    closed: true,\n    next: function (value) { },\n    error: function (err) {\n        if (config_1.config.useDeprecatedSynchronousErrorHandling) {\n            throw err;\n        }\n        else {\n            hostReportError_1.hostReportError(err);\n        }\n    },\n    complete: function () { }\n};\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isFunction_1 = require(\"./util/isFunction\");\nvar Observer_1 = require(\"./Observer\");\nvar Subscription_1 = require(\"./Subscription\");\nvar rxSubscriber_1 = require(\"../internal/symbol/rxSubscriber\");\nvar config_1 = require(\"./config\");\nvar hostReportError_1 = require(\"./util/hostReportError\");\nvar Subscriber = (function (_super) {\n    __extends(Subscriber, _super);\n    function Subscriber(destinationOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        _this.syncErrorValue = null;\n        _this.syncErrorThrown = false;\n        _this.syncErrorThrowable = false;\n        _this.isStopped = false;\n        switch (arguments.length) {\n            case 0:\n                _this.destination = Observer_1.empty;\n                break;\n            case 1:\n                if (!destinationOrNext) {\n                    _this.destination = Observer_1.empty;\n                    break;\n                }\n                if (typeof destinationOrNext === 'object') {\n                    if (destinationOrNext instanceof Subscriber) {\n                        _this.syncErrorThrowable = destinationOrNext.syncErrorThrowable;\n                        _this.destination = destinationOrNext;\n                        destinationOrNext.add(_this);\n                    }\n                    else {\n                        _this.syncErrorThrowable = true;\n                        _this.destination = new SafeSubscriber(_this, destinationOrNext);\n                    }\n                    break;\n                }\n            default:\n                _this.syncErrorThrowable = true;\n                _this.destination = new SafeSubscriber(_this, destinationOrNext, error, complete);\n                break;\n        }\n        return _this;\n    }\n    Subscriber.prototype[rxSubscriber_1.rxSubscriber] = function () { return this; };\n    Subscriber.create = function (next, error, complete) {\n        var subscriber = new Subscriber(next, error, complete);\n        subscriber.syncErrorThrowable = false;\n        return subscriber;\n    };\n    Subscriber.prototype.next = function (value) {\n        if (!this.isStopped) {\n            this._next(value);\n        }\n    };\n    Subscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._error(err);\n        }\n    };\n    Subscriber.prototype.complete = function () {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._complete();\n        }\n    };\n    Subscriber.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.isStopped = true;\n        _super.prototype.unsubscribe.call(this);\n    };\n    Subscriber.prototype._next = function (value) {\n        this.destination.next(value);\n    };\n    Subscriber.prototype._error = function (err) {\n        this.destination.error(err);\n        this.unsubscribe();\n    };\n    Subscriber.prototype._complete = function () {\n        this.destination.complete();\n        this.unsubscribe();\n    };\n    Subscriber.prototype._unsubscribeAndRecycle = function () {\n        var _parentOrParents = this._parentOrParents;\n        this._parentOrParents = null;\n        this.unsubscribe();\n        this.closed = false;\n        this.isStopped = false;\n        this._parentOrParents = _parentOrParents;\n        return this;\n    };\n    return Subscriber;\n}(Subscription_1.Subscription));\nexports.Subscriber = Subscriber;\nvar SafeSubscriber = (function (_super) {\n    __extends(SafeSubscriber, _super);\n    function SafeSubscriber(_parentSubscriber, observerOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        _this._parentSubscriber = _parentSubscriber;\n        var next;\n        var context = _this;\n        if (isFunction_1.isFunction(observerOrNext)) {\n            next = observerOrNext;\n        }\n        else if (observerOrNext) {\n            next = observerOrNext.next;\n            error = observerOrNext.error;\n            complete = observerOrNext.complete;\n            if (observerOrNext !== Observer_1.empty) {\n                context = Object.create(observerOrNext);\n                if (isFunction_1.isFunction(context.unsubscribe)) {\n                    _this.add(context.unsubscribe.bind(context));\n                }\n                context.unsubscribe = _this.unsubscribe.bind(_this);\n            }\n        }\n        _this._context = context;\n        _this._next = next;\n        _this._error = error;\n        _this._complete = complete;\n        return _this;\n    }\n    SafeSubscriber.prototype.next = function (value) {\n        if (!this.isStopped && this._next) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (!config_1.config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                this.__tryOrUnsub(this._next, value);\n            }\n            else if (this.__tryOrSetError(_parentSubscriber, this._next, value)) {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            var useDeprecatedSynchronousErrorHandling = config_1.config.useDeprecatedSynchronousErrorHandling;\n            if (this._error) {\n                if (!useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(this._error, err);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, this._error, err);\n                    this.unsubscribe();\n                }\n            }\n            else if (!_parentSubscriber.syncErrorThrowable) {\n                this.unsubscribe();\n                if (useDeprecatedSynchronousErrorHandling) {\n                    throw err;\n                }\n                hostReportError_1.hostReportError(err);\n            }\n            else {\n                if (useDeprecatedSynchronousErrorHandling) {\n                    _parentSubscriber.syncErrorValue = err;\n                    _parentSubscriber.syncErrorThrown = true;\n                }\n                else {\n                    hostReportError_1.hostReportError(err);\n                }\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.complete = function () {\n        var _this = this;\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (this._complete) {\n                var wrappedComplete = function () { return _this._complete.call(_this._context); };\n                if (!config_1.config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(wrappedComplete);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, wrappedComplete);\n                    this.unsubscribe();\n                }\n            }\n            else {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.__tryOrUnsub = function (fn, value) {\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            this.unsubscribe();\n            if (config_1.config.useDeprecatedSynchronousErrorHandling) {\n                throw err;\n            }\n            else {\n                hostReportError_1.hostReportError(err);\n            }\n        }\n    };\n    SafeSubscriber.prototype.__tryOrSetError = function (parent, fn, value) {\n        if (!config_1.config.useDeprecatedSynchronousErrorHandling) {\n            throw new Error('bad call');\n        }\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            if (config_1.config.useDeprecatedSynchronousErrorHandling) {\n                parent.syncErrorValue = err;\n                parent.syncErrorThrown = true;\n                return true;\n            }\n            else {\n                hostReportError_1.hostReportError(err);\n                return true;\n            }\n        }\n        return false;\n    };\n    SafeSubscriber.prototype._unsubscribe = function () {\n        var _parentSubscriber = this._parentSubscriber;\n        this._context = null;\n        this._parentSubscriber = null;\n        _parentSubscriber.unsubscribe();\n    };\n    return SafeSubscriber;\n}(Subscriber));\nexports.SafeSubscriber = SafeSubscriber;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isArray_1 = require(\"./util/isArray\");\nvar isObject_1 = require(\"./util/isObject\");\nvar isFunction_1 = require(\"./util/isFunction\");\nvar UnsubscriptionError_1 = require(\"./util/UnsubscriptionError\");\nvar Subscription = (function () {\n    function Subscription(unsubscribe) {\n        this.closed = false;\n        this._parentOrParents = null;\n        this._subscriptions = null;\n        if (unsubscribe) {\n            this._ctorUnsubscribe = true;\n            this._unsubscribe = unsubscribe;\n        }\n    }\n    Subscription.prototype.unsubscribe = function () {\n        var errors;\n        if (this.closed) {\n            return;\n        }\n        var _a = this, _parentOrParents = _a._parentOrParents, _ctorUnsubscribe = _a._ctorUnsubscribe, _unsubscribe = _a._unsubscribe, _subscriptions = _a._subscriptions;\n        this.closed = true;\n        this._parentOrParents = null;\n        this._subscriptions = null;\n        if (_parentOrParents instanceof Subscription) {\n            _parentOrParents.remove(this);\n        }\n        else if (_parentOrParents !== null) {\n            for (var index = 0; index < _parentOrParents.length; ++index) {\n                var parent_1 = _parentOrParents[index];\n                parent_1.remove(this);\n            }\n        }\n        if (isFunction_1.isFunction(_unsubscribe)) {\n            if (_ctorUnsubscribe) {\n                this._unsubscribe = undefined;\n            }\n            try {\n                _unsubscribe.call(this);\n            }\n            catch (e) {\n                errors = e instanceof UnsubscriptionError_1.UnsubscriptionError ? flattenUnsubscriptionErrors(e.errors) : [e];\n            }\n        }\n        if (isArray_1.isArray(_subscriptions)) {\n            var index = -1;\n            var len = _subscriptions.length;\n            while (++index < len) {\n                var sub = _subscriptions[index];\n                if (isObject_1.isObject(sub)) {\n                    try {\n                        sub.unsubscribe();\n                    }\n                    catch (e) {\n                        errors = errors || [];\n                        if (e instanceof UnsubscriptionError_1.UnsubscriptionError) {\n                            errors = errors.concat(flattenUnsubscriptionErrors(e.errors));\n                        }\n                        else {\n                            errors.push(e);\n                        }\n                    }\n                }\n            }\n        }\n        if (errors) {\n            throw new UnsubscriptionError_1.UnsubscriptionError(errors);\n        }\n    };\n    Subscription.prototype.add = function (teardown) {\n        var subscription = teardown;\n        if (!teardown) {\n            return Subscription.EMPTY;\n        }\n        switch (typeof teardown) {\n            case 'function':\n                subscription = new Subscription(teardown);\n            case 'object':\n                if (subscription === this || subscription.closed || typeof subscription.unsubscribe !== 'function') {\n                    return subscription;\n                }\n                else if (this.closed) {\n                    subscription.unsubscribe();\n                    return subscription;\n                }\n                else if (!(subscription instanceof Subscription)) {\n                    var tmp = subscription;\n                    subscription = new Subscription();\n                    subscription._subscriptions = [tmp];\n                }\n                break;\n            default: {\n                throw new Error('unrecognized teardown ' + teardown + ' added to Subscription.');\n            }\n        }\n        var _parentOrParents = subscription._parentOrParents;\n        if (_parentOrParents === null) {\n            subscription._parentOrParents = this;\n        }\n        else if (_parentOrParents instanceof Subscription) {\n            if (_parentOrParents === this) {\n                return subscription;\n            }\n            subscription._parentOrParents = [_parentOrParents, this];\n        }\n        else if (_parentOrParents.indexOf(this) === -1) {\n            _parentOrParents.push(this);\n        }\n        else {\n            return subscription;\n        }\n        var subscriptions = this._subscriptions;\n        if (subscriptions === null) {\n            this._subscriptions = [subscription];\n        }\n        else {\n            subscriptions.push(subscription);\n        }\n        return subscription;\n    };\n    Subscription.prototype.remove = function (subscription) {\n        var subscriptions = this._subscriptions;\n        if (subscriptions) {\n            var subscriptionIndex = subscriptions.indexOf(subscription);\n            if (subscriptionIndex !== -1) {\n                subscriptions.splice(subscriptionIndex, 1);\n            }\n        }\n    };\n    Subscription.EMPTY = (function (empty) {\n        empty.closed = true;\n        return empty;\n    }(new Subscription()));\n    return Subscription;\n}());\nexports.Subscription = Subscription;\nfunction flattenUnsubscriptionErrors(errors) {\n    return errors.reduce(function (errs, err) { return errs.concat((err instanceof UnsubscriptionError_1.UnsubscriptionError) ? err.errors : err); }, []);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _enable_super_gross_mode_that_will_cause_bad_things = false;\nexports.config = {\n    Promise: undefined,\n    set useDeprecatedSynchronousErrorHandling(value) {\n        if (value) {\n            var error = new Error();\n            console.warn('DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \\n' + error.stack);\n        }\n        else if (_enable_super_gross_mode_that_will_cause_bad_things) {\n            console.log('RxJS: Back to a better error behavior. Thank you. <3');\n        }\n        _enable_super_gross_mode_that_will_cause_bad_things = value;\n    },\n    get useDeprecatedSynchronousErrorHandling() {\n        return _enable_super_gross_mode_that_will_cause_bad_things;\n    },\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.observable = (function () { return typeof Symbol === 'function' && Symbol.observable || '@@observable'; })();\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.rxSubscriber = (function () {\n    return typeof Symbol === 'function'\n        ? Symbol('rxSubscriber')\n        : '@@rxSubscriber_' + Math.random();\n})();\nexports.$$rxSubscriber = exports.rxSubscriber;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar UnsubscriptionErrorImpl = (function () {\n    function UnsubscriptionErrorImpl(errors) {\n        Error.call(this);\n        this.message = errors ?\n            errors.length + \" errors occurred during unsubscription:\\n\" + errors.map(function (err, i) { return i + 1 + \") \" + err.toString(); }).join('\\n  ') : '';\n        this.name = 'UnsubscriptionError';\n        this.errors = errors;\n        return this;\n    }\n    UnsubscriptionErrorImpl.prototype = Object.create(Error.prototype);\n    return UnsubscriptionErrorImpl;\n})();\nexports.UnsubscriptionError = UnsubscriptionErrorImpl;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Subscriber_1 = require(\"../Subscriber\");\nfunction canReportError(observer) {\n    while (observer) {\n        var _a = observer, closed_1 = _a.closed, destination = _a.destination, isStopped = _a.isStopped;\n        if (closed_1 || isStopped) {\n            return false;\n        }\n        else if (destination && destination instanceof Subscriber_1.Subscriber) {\n            observer = destination;\n        }\n        else {\n            observer = null;\n        }\n    }\n    return true;\n}\nexports.canReportError = canReportError;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction hostReportError(err) {\n    setTimeout(function () { throw err; }, 0);\n}\nexports.hostReportError = hostReportError;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction identity(x) {\n    return x;\n}\nexports.identity = identity;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isArray = (function () { return Array.isArray || (function (x) { return x && typeof x.length === 'number'; }); })();\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isFunction(x) {\n    return typeof x === 'function';\n}\nexports.isFunction = isFunction;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isObject(x) {\n    return x !== null && typeof x === 'object';\n}\nexports.isObject = isObject;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar identity_1 = require(\"./identity\");\nfunction pipe() {\n    var fns = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        fns[_i] = arguments[_i];\n    }\n    return pipeFromArray(fns);\n}\nexports.pipe = pipe;\nfunction pipeFromArray(fns) {\n    if (fns.length === 0) {\n        return identity_1.identity;\n    }\n    if (fns.length === 1) {\n        return fns[0];\n    }\n    return function piped(input) {\n        return fns.reduce(function (prev, fn) { return fn(prev); }, input);\n    };\n}\nexports.pipeFromArray = pipeFromArray;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Subscriber_1 = require(\"../Subscriber\");\nvar rxSubscriber_1 = require(\"../symbol/rxSubscriber\");\nvar Observer_1 = require(\"../Observer\");\nfunction toSubscriber(nextOrObserver, error, complete) {\n    if (nextOrObserver) {\n        if (nextOrObserver instanceof Subscriber_1.Subscriber) {\n            return nextOrObserver;\n        }\n        if (nextOrObserver[rxSubscriber_1.rxSubscriber]) {\n            return nextOrObserver[rxSubscriber_1.rxSubscriber]();\n        }\n    }\n    if (!nextOrObserver && !error && !complete) {\n        return new Subscriber_1.Subscriber(Observer_1.empty);\n    }\n    return new Subscriber_1.Subscriber(nextOrObserver, error, complete);\n}\nexports.toSubscriber = toSubscriber;\n"],"names":["DetailModalComponent","constructor","ref","instanceControllerService","isLoading","ngOnInit","getInstanceByMRNAndVersion","instanceMrn","instanceVersion","subscribe","res","console","log","dismiss","close","selectors","inputs","instanceName","msrUrl","msrName","decls","vars","consts","template","i0","ctx","addLangs","loadLang","formatVesselToUpload","EntityTypes","ResourceType","MenuTypeIconNames","MenuTypeNames","ColumnForResource","Role","Observable","ORG_ADMIN_AT_MIR","RoleNameEnum","DetailComponent","route","router","userControllerService","deviceControllerService","roleControllerService","vesselControllerService","serviceControllerService","mmsControllerService","organizationControllerService","notifierService","authService","location","translate","Device","menuType","undefined","context","body","orgMrn","User","createUser","createDevice","Vessel","createVessel","MMS","createMMS","Service","createService","Organization","applyOrganization","createRole","Instance","createInstance","entityMrn","version","instanceId","updateUser","updateDevice","updateVessel","updateMMS","updateService","OrgCandidate","updateOrganization","updateRole","numberId","updateInstance","Object","assign","id","deleteUser","deleteDevice","deleteVessel","deleteMMS","deleteService","deleteOrg","deleteRole","deleteInstance","getUser","getDevice","getVessel","getMMS","getServiceVersion","getOrganization1","getInstance","array","url","split","entityId","pop","menuTypeString","InstanceOfOrg","isForServiceForOrg","replace","substr","length","decodeURIComponent","snapshot","paramMap","get","authState","isForNew","parseInt","routeReuseStrategy","shouldReuseRoute","queryParams","e","noBacklink","name","title","iconName","toString","isEditing","fetchFieldValues","cancel","back","settle","result","editableForm","settled","hasOwnProperty","values","includes","getUnapprovedOrganizations","data","adjustTitle","adjustData","content","filter","d","mrn","orgShortId","error","notify","message","navigateByUrl","getRole","loadDataContent","user","organization","firstName","lastName","Error","instant","refreshData","moveToListPage","navigate","relativeTo","delete","indexOf","confirm","deleteData","menuTypeName","err","approve","supplementForm","formGroup","valid","approveOrganization","createAdminRole","role","createAdminUser","getFormValue","permission","roleName","ORGADMIN","permissions","submit","submitDataToBackend","idOrganization","registerData","updateData","invertIsEditing","viewQuery","ListViewComponent","RouterModule","ListComponent","NotFoundComponent","routes","path","component","children","ListViewRoutingModule","forChild","imports","exports","SharedModule","CommonModule","NbButtonModule","NbCardModule","NbDatepickerModule","NbIconModule","NbInputModule","NbPopoverModule","NbSelectModule","NbSpinnerModule","NbTabsetModule","Ng2SmartTableModule","NotifierService","ThemeModule","ListViewModule","declarations","LocalDataSource","formatData","formatServiceData","hasAdminPermission","capitalize","s","charAt","toUpperCase","slice","iconsLibrary","actions","edit","position","mode","deleteButtonContent","confirmDelete","columns","hideSubHeader","totalPages","totalElements","pageNumbers","Array","fill","map","x","i","getInstances","page","size","getOrganizationUsers","getOrganizationDevices","getOrganizationVessels","getOrganizationMMSes","getOrganizationServices","getOrganization","getRoles","registerFontPack","packClass","iconClassPrefix","rolesLoaded","isAdmin","fetchValues","currentPageNumber","pageNumber","mySettings","entries","k","v","isArray","contextForAttributes","settings","resOrigin","updatePageContentInfo","formatResponse","loadMyOrganization","resMyOrg","loadRoles","loadServiceInstances","resData","formatResponseForService","organizationId","source","load","onDelete","event","onEdit","encodeURIComponent","onAddNew","onSearch","query","srcElement","value","setFilter","field","search","reset","defineProperty","Observable_1","require","__export","m","p","canReportError_1","toSubscriber_1","observable_1","pipe_1","config_1","_isScalar","_subscribe","prototype","lift","operator","observable","observerOrNext","complete","sink","toSubscriber","add","call","config","useDeprecatedSynchronousErrorHandling","syncErrorThrowable","_trySubscribe","syncErrorThrown","syncErrorValue","canReportError","warn","forEach","next","promiseCtor","_this","getPromiseCtor","resolve","reject","subscription","unsubscribe","subscriber","pipe","operations","_i","arguments","pipeFromArray","toPromise","create","Promise","hostReportError_1","empty","closed","hostReportError","__extends","extendStatics","b","setPrototypeOf","__proto__","__","isFunction_1","Observer_1","Subscription_1","rxSubscriber_1","Subscriber","_super","destinationOrNext","isStopped","destination","SafeSubscriber","rxSubscriber","_next","_error","_complete","_unsubscribeAndRecycle","_parentOrParents","Subscription","_parentSubscriber","isFunction","bind","_context","__tryOrUnsub","__tryOrSetError","wrappedComplete","fn","parent","_unsubscribe","isArray_1","isObject_1","UnsubscriptionError_1","_subscriptions","_ctorUnsubscribe","errors","_a","remove","index","parent_1","UnsubscriptionError","flattenUnsubscriptionErrors","len","sub","isObject","concat","push","teardown","EMPTY","tmp","subscriptions","subscriptionIndex","splice","reduce","errs","_enable_super_gross_mode_that_will_cause_bad_things","stack","Symbol","Math","random","$$rxSubscriber","UnsubscriptionErrorImpl","join","Subscriber_1","observer","closed_1","setTimeout","identity","identity_1","fns","piped","input","prev","nextOrObserver"],"sourceRoot":"webpack:///","x_google_ignoreList":[8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]}