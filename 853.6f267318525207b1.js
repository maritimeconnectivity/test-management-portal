"use strict";(self.webpackChunkmanagement_portal_clr=self.webpackChunkmanagement_portal_clr||[]).push([[853],{8853:(W,f,a)=>{a.r(f),a.d(f,{LandingModule:()=>D});var d=a(6994),r=a(3585),c=a(8214),g=a(7882),j=a(2170),u=a(3987),F=a(58),I=a(9850),R=a(5166),v=a(4131),E=a(4284),t=a(5950),k=a(6482),b=a(9380),T=a(5004),C=a(698);const L=["regInfoModal"],M=["wizard"],y=(e,l)=>l.code;function z(e,l){if(1&e){const n=t.RV6();t.j41(0,"div",42),t.bIt("click",function(){const i=t.eBV(n).$implicit,s=t.XpG();return t.Njj(s.changeLang(i.code))}),t.EFF(1),t.k0s()}if(2&e){const n=l.$implicit;t.R7$(),t.JRh(n.name)}}function N(e,l){1&e&&(t.EFF(0),t.nI1(1,"translate")),2&e&&t.JRh(t.bMT(1,1,"register.termsOfUse.title"))}function O(e,l){1&e&&(t.EFF(0),t.nI1(1,"translate")),2&e&&t.JRh(t.bMT(1,1,"register.enterInfo.title"))}function $(e,l){1&e&&(t.j41(0,"p"),t.EFF(1,"You need to agree the terms of use."),t.k0s())}function w(e,l){if(1&e&&(t.j41(0,"clr-alert",40)(1,"clr-alert-item")(2,"span",44),t.EFF(3),t.k0s()(),t.j41(4,"clr-alert-item")(5,"span",44),t.EFF(6),t.k0s()()()),2&e){const n=t.XpG(2);t.Y8G("clrAlertType","danger"),t.R7$(3),t.SpI("Something went wrong. If you have this message consistently please contact to ",n.adminEmail,"."),t.R7$(3),t.SpI("ERROR: ",n.errMessage,"")}}function S(e,l){if(1&e){const n=t.RV6();t.DNE(0,w,7,3,"clr-alert",40),t.j41(1,"app-item-form",43),t.bIt("onSubmit",function(i){t.eBV(n);const s=t.XpG();return t.Njj(s.submit(i))}),t.k0s()}if(2&e){const n=t.XpG();t.vxM(n.submissionFailed?0:-1),t.R7$(),t.Y8G("isForNew",n.isForNew)("itemType",n.itemType)("item",n.item)("mrnPrefix",n.mrnPrefix)}}function P(e,l){1&e&&(t.j41(0,"clr-alert",40)(1,"clr-alert-item")(2,"span",44),t.EFF(3,"Data successfully submitted."),t.k0s()()()),2&e&&t.Y8G("clrAlertType","success")}function B(e,l){1&e&&(t.j41(0,"clr-wizard-button",35),t.EFF(1,"Next"),t.k0s()),2&e&&t.Y8G("type","custom-next")}function G(e,l){1&e&&(t.j41(0,"button",45),t.EFF(1,"Next"),t.k0s())}function J(e,l){if(1&e&&(t.j41(0,"clr-wizard-button",35),t.EFF(1,"Back"),t.k0s(),t.DNE(2,B,2,1,"clr-wizard-button",35)(3,G,2,0,"button",45)),2&e){const n=t.XpG();t.Y8G("type","custom-previous"),t.R7$(2),t.vxM(n.submitted?2:3)}}function V(e,l){1&e&&(t.EFF(0),t.nI1(1,"translate")),2&e&&t.JRh(t.bMT(1,1,"register.summary.title"))}let _=(()=>{class e{constructor(n,o,i){this.authService=n,this.translate=o,this.organizationService=i,this.langs=j.e,this.footerLink=c.o.FOOTER_LINK,this.footerName=c.o.FOOTER_NAME,this.environmentName=c.o.ENVIRONMENT_NAME.toUpperCase(),this.serviceProviderName=c.o.MP_NAME,this.currentLang="en-GB",this.currentLangName="English",this.loggedIn=!1,this.version=c.o.MP_VERSION,this.logo_img=c.o.LOGO_IMG,this.wizardOpen=!1,this.termsOfUse=c.o.TERMS_OF_USE,this.size="lg",this.regInfoOpened=!1,this.regInputOpened=!1,this.agreed=!1,this.submitted=!1,this.submissionFailed=!1,this.nextText="Agree",this.isForNew=!0,this.itemType=R.SP.OrgCandidate,this.mrnPrefix="urn:mrn:mcp:org:"+c.o.IDP_NAMESPACE+":",this.item={name:"",email:"",address:"",country:"",mrn:"",url:""},this.contactEmail="",this.adminEmail=c.o.MP_CONTACT,this.errMessage="",(0,u.xs)(o),this.loadLang(),this.item.mrn=this.mrnPrefix}ngOnInit(){this.updateLoggedIn()}updateLoggedIn(){this.authService.isAuthenticated().then(n=>{this.loggedIn=n})}logIn(){var n=this;return(0,d.A)(function*(){n.authService.login(),n.updateLoggedIn()})()}logOut(){var n=this;return(0,d.A)(function*(){n.authService.logout(),n.updateLoggedIn()})()}loadLang(){var n=this;return(0,d.A)(function*(){n.currentLang=(0,u.rR)(n.translate),n.currentLangName=(0,u.Xo)(n.currentLang)})()}changeLang(n){var o=this;return(0,d.A)(function*(){(0,u.lk)(o.translate,n),o.loadLang()})()}createRegisterDialog(){}createProcessDialog(){}openRegInfoModal(){this.regInfoModal?.open()}openWizard(){this.wizard?.reset(),this.wizard?.open(),this.agreed=!1,this.submitted=!1,this.item={name:"",email:"",address:"",country:"",mrn:this.mrnPrefix,url:""}}agree(){this.agreed=!0}submit(n){this.organizationService.applyOrganization(n).pipe((0,v.W)(o=>(0,E.$)(o))).subscribe(o=>{this.contactEmail=n.email||"",this.submitted=!0},o=>{this.submissionFailed=!0,this.errMessage=o.error.message,console.log(o)})}doCustomClick(n){"custom-next"===n&&this.wizard?.next(),"custom-previous"===n&&this.wizard?.previous()}static#t=this.\u0275fac=function(o){return new(o||e)(t.rXU(k.u),t.rXU(b.c$),t.rXU(T.PZ))};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-login"]],viewQuery:function(o,i){if(1&o&&(t.GBs(L,7),t.GBs(M,7)),2&o){let s;t.mGM(s=t.lsd())&&(i.regInfoModal=s.first),t.mGM(s=t.lsd())&&(i.wizard=s.first)}},standalone:!0,features:[t.aNF],decls:119,vars:66,consts:[["regInfoModal",""],["wizard",""],[1,"login-wrapper"],[1,"login"],[1,"login-header"],[1,"top-logo"],["height","100%","alt","Logo",3,"src"],[1,"actions"],["clrDropdownTrigger","",1,"btn","btn-link","btn-sm"],["shape","angle","direction","down"],["aria-label","option.code","clrDropdownItem",""],[1,"login-body"],[1,"title"],[1,"hint"],[1,"login-group"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-warning-outline",3,"click"],["href","javascript://",1,"signup",3,"click"],[1,"login-footer"],[1,"copyright"],["target","_blank",1,"text-white",3,"href"],[3,"clrModalOpenChange","clrModalOpen","clrModalSize"],[1,"modal-title"],[1,"modal-body"],[1,"clr-timeline"],[1,"clr-timeline-step"],[1,"clr-timeline-step-header"],["role","img","shape","circle","aria-label","Not started"],[1,"clr-timeline-step-body"],[1,"clr-timeline-step-title"],[1,"clr-timeline-step-description"],[1,"modal-footer"],["type","button",1,"btn","btn-outline",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["clrWizardSize","xl",3,"clrWizardOpenChange","clrWizardOpen"],[3,"type"],[3,"click","type"],["clrPageTitle",""],[3,"clrWizardPageCustomButton"],[3,"isForNew","itemType","item","mrnPrefix"],[3,"clrAlertType"],["clrPageButtons",""],["aria-label","option.code","clrDropdownItem","",3,"click"],[3,"onSubmit","isForNew","itemType","item","mrnPrefix"],[1,"alert-text"],["disabled","",1,"btn","btn-primary"]],template:function(o,i){if(1&o){const s=t.RV6();t.j41(0,"div",2)(1,"form",3)(2,"div",4)(3,"div",5),t.nrm(4,"img",6),t.k0s(),t.j41(5,"div",7)(6,"clr-dropdown")(7,"button",8),t.EFF(8),t.nrm(9,"cds-icon",9),t.k0s(),t.j41(10,"clr-dropdown-menu"),t.Z7z(11,z,2,1,"div",10,y),t.k0s()()()(),t.j41(13,"div",11)(14,"section",12),t.EFF(15),t.nI1(16,"translate"),t.j41(17,"div",13),t.EFF(18),t.nI1(19,"translate"),t.k0s()(),t.j41(20,"div",14)(21,"button",15),t.bIt("click",function(){return t.eBV(s),t.Njj(i.logIn())}),t.EFF(22),t.nI1(23,"translate"),t.k0s(),t.j41(24,"button",16),t.bIt("click",function(){return t.eBV(s),t.Njj(i.openWizard())}),t.EFF(25),t.nI1(26,"translate"),t.k0s(),t.j41(27,"a",17),t.bIt("click",function(){return t.eBV(s),t.Njj(i.openRegInfoModal())}),t.EFF(28),t.nI1(29,"translate"),t.k0s()()(),t.j41(30,"div",18)(31,"span",19),t.EFF(32),t.k0s(),t.j41(33,"a",20),t.EFF(34),t.k0s()()()(),t.j41(35,"clr-modal",21,0),t.mxI("clrModalOpenChange",function(p){return t.eBV(s),t.DH7(i.regInfoOpened,p)||(i.regInfoOpened=p),t.Njj(p)}),t.j41(37,"div",22),t.EFF(38),t.nI1(39,"translate"),t.k0s(),t.j41(40,"div",23)(41,"ul",24)(42,"li",25)(43,"div",26),t.EFF(44,"Step 1"),t.k0s(),t.nrm(45,"cds-icon",27),t.j41(46,"div",28)(47,"span",29),t.EFF(48),t.nI1(49,"translate"),t.k0s(),t.j41(50,"span",30),t.EFF(51),t.nI1(52,"translate"),t.k0s()()(),t.j41(53,"li",25)(54,"div",26),t.EFF(55,"Step 2"),t.k0s(),t.nrm(56,"cds-icon",27),t.j41(57,"div",28)(58,"span",29),t.EFF(59),t.nI1(60,"translate"),t.k0s(),t.j41(61,"span",30),t.EFF(62),t.nI1(63,"translate"),t.k0s()()(),t.j41(64,"li",25)(65,"div",26),t.EFF(66,"Step 3"),t.k0s(),t.nrm(67,"cds-icon",27),t.j41(68,"div",28)(69,"span",29),t.EFF(70),t.nI1(71,"translate"),t.k0s(),t.j41(72,"span",30),t.EFF(73),t.nI1(74,"translate"),t.k0s()()(),t.j41(75,"li",25)(76,"div",26),t.EFF(77,"Step 4"),t.k0s(),t.nrm(78,"cds-icon",27),t.j41(79,"div",28)(80,"span",29),t.EFF(81),t.nI1(82,"translate"),t.k0s(),t.j41(83,"span",30),t.EFF(84),t.nI1(85,"translate"),t.k0s()()()()(),t.j41(86,"div",31)(87,"button",32),t.bIt("click",function(){return t.eBV(s),t.Njj(i.regInfoOpened=!1)}),t.EFF(88,"Cancel"),t.k0s(),t.j41(89,"button",33),t.bIt("click",function(){return t.eBV(s),t.Njj(i.regInfoOpened=!1)}),t.EFF(90,"Ok"),t.k0s()()(),t.j41(91,"clr-wizard",34,1),t.mxI("clrWizardOpenChange",function(p){return t.eBV(s),t.DH7(i.wizardOpen,p)||(i.wizardOpen=p),t.Njj(p)}),t.j41(93,"clr-wizard-title"),t.EFF(94),t.nI1(95,"translate"),t.k0s(),t.j41(96,"clr-wizard-button",35),t.EFF(97,"Cancel"),t.k0s(),t.j41(98,"clr-wizard-button",35),t.EFF(99,"Back"),t.k0s(),t.j41(100,"clr-wizard-button",36),t.bIt("click",function(){return t.eBV(s),t.Njj(i.agree())}),t.EFF(101),t.k0s(),t.j41(102,"clr-wizard-button",35),t.EFF(103,"Finish"),t.k0s(),t.j41(104,"clr-wizard-page"),t.DNE(105,N,2,3,"ng-template",37),t.j41(106,"p"),t.EFF(107),t.k0s()(),t.j41(108,"clr-wizard-page",38),t.bIt("clrWizardPageCustomButton",function(p){return t.eBV(s),t.Njj(i.doCustomClick(p))}),t.DNE(109,O,2,3,"ng-template",37)(110,$,2,0,"p")(111,S,2,5,"app-item-form",39)(112,P,4,1,"clr-alert",40)(113,J,4,2,"ng-template",41),t.k0s(),t.j41(114,"clr-wizard-page"),t.DNE(115,V,2,3,"ng-template",37),t.j41(116,"p"),t.EFF(117),t.nI1(118,"translate"),t.k0s()()()}2&o&&(t.R7$(4),t.FS9("src",i.logo_img,t.B4B),t.R7$(4),t.SpI(" Lang: ",i.currentLangName," "),t.R7$(3),t.Dyx(i.langs),t.R7$(4),t.SpI(" ",t.bMT(16,34,"landing.title.serviceName")," "),t.R7$(3),t.Lme("",i.environmentName," ",t.bMT(19,36,"landing.title.environmentName"),""),t.R7$(4),t.JRh(t.bMT(23,38,"landing.button.login")),t.R7$(3),t.JRh(t.bMT(26,40,"landing.button.register")),t.R7$(3),t.JRh(t.bMT(29,42,"landing.button.registerInfo")),t.R7$(4),t.SpI("2024 ",i.serviceProviderName,""),t.R7$(),t.FS9("href",i.footerLink,t.B4B),t.R7$(),t.JRh(i.footerName),t.R7$(),t.R50("clrModalOpen",i.regInfoOpened),t.Y8G("clrModalSize",i.size),t.R7$(3),t.SpI(" ",t.bMT(39,44,"registrationProcess.title")," "),t.R7$(10),t.JRh(t.bMT(49,46,"registrationProcess.step1.title")),t.R7$(3),t.JRh(t.bMT(52,48,"registrationProcess.step1.content")),t.R7$(8),t.JRh(t.bMT(60,50,"registrationProcess.step2.title")),t.R7$(3),t.JRh(t.bMT(63,52,"registrationProcess.step2.content")),t.R7$(8),t.JRh(t.bMT(71,54,"registrationProcess.step3.title")),t.R7$(3),t.JRh(t.bMT(74,56,"registrationProcess.step3.content")),t.R7$(8),t.JRh(t.bMT(82,58,"registrationProcess.step4.title")),t.R7$(3),t.JRh(t.bMT(85,60,"registrationProcess.step4.content")),t.R7$(7),t.R50("clrWizardOpen",i.wizardOpen),t.R7$(3),t.Lme("",t.bMT(95,62,"register.title"),"",i.environmentName,""),t.R7$(2),t.Y8G("type","cancel"),t.R7$(2),t.Y8G("type","previous"),t.R7$(2),t.Y8G("type","next"),t.R7$(),t.JRh(i.nextText),t.R7$(),t.Y8G("type","finish"),t.R7$(5),t.JRh(i.termsOfUse),t.R7$(3),t.vxM(i.agreed?i.agreed&&!i.submitted?111:112:110),t.R7$(7),t.Lme("",t.bMT(118,64,"register.summary.content"),"",i.contactEmail,"."))},dependencies:[r.UpA,g.YN,g.qT,g.cb,g.cV,F.G,b.D9,r.z7t,r.bZN,r.zN1,r.BlU,r.j1e,r.TZW,r.e3J,r.jWx,r.wIE,I.h,C.j,r.SVK,r.k8k,r.Bw1,r.tQl,r.XOx,r.Rln,r.qIy,r.JVG,r.pbh,r.eJg,r.fXS],styles:['@import"https://fonts.googleapis.com/css2?family=Quicksand:wght@300&display=swap";@import"https://fonts.googleapis.com/css2?family=Staatliches&display=swap";.login-wrapper[_ngcontent-%COMP%]{display:flex;height:100%;background:url(/assets/images/sea_anim.svg);background-size:100%;background-position:calc(580*(1rem/var(--cds-global-base))) 800;background-repeat:no-repeat;background-size:cover}']})}return e})();var h=a(8745);const x=[{path:"",component:(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["mp-landing"]],decls:1,vars:0,template:function(o,i){1&o&&t.nrm(0,"router-outlet")},dependencies:[h.n3],encapsulation:2})}return e})(),children:[{path:"login",component:_},{path:"",redirectTo:"login",pathMatch:"full"},{path:"**",redirectTo:"login"}]}];let A=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275mod=t.$C({type:e});static#n=this.\u0275inj=t.G2t({imports:[h.iI.forChild(x),h.iI]})}return e})(),D=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275mod=t.$C({type:e});static#n=this.\u0275inj=t.G2t({imports:[F.G,h.iI,A,_]})}return e})()}}]);